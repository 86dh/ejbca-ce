<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<ui:remove>
	<!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/

      -->
</ui:remove>


<ui:composition template="/WEB-INF/include/popup.xhtml">

	<ui:param name="resourceBean" value="#{editEndEntityMBean}" />
	<ui:define name="content">

		<h2>
			<h:outputText value="#{web.text.EDIT_ENDENTITY_HEADING}" />
		</h2>
		
		<h:form id="editendentity" enctype="multipart/form-data">

			<h:panelGrid columns="2" styleClass="edit-top" cellspacing="3"
				cellpadding="3" border="0" width="100%" rowClasses="Row1"
				columnClasses="editColumnSystem1,editColumn2">
				<h:outputLabel 
					value="#{web.text.ENDENTITYPROFILE}"
					style="font-weight:bold; font-size:1.2em;" />
					
			<h:panelGroup id="endEntityProfile">
					<h:selectOneMenu value="#{resourceBean.selectedEeProfileId}"
						disabled="#{!resourceBean.allowedToEditEndEntity}">
						<f:selectItems value="#{resourceBean.availableEndEntityProfiles}" />
						<f:ajax render="editendentity"
							listener="#{resourceBean.actionChangeEndEntityProfile}" />
					</h:selectOneMenu>
					<br />
					<h:outputLabel styleClass="help"
						value="#{web.text.WARNINGCHANGINGPROFILE}" />
			</h:panelGroup>					

		    <!-- ********** Status ******************** -->
			<h:panelGroup>
				<h:outputLabel id="eeStatus"
					value="#{web.text.STATUS}" />
			</h:panelGroup>

			<h:panelGroup id="selectChangeEeStatus">
					<h:selectOneMenu value="#{resourceBean.eeStatus}"
						disabled="#{!resourceBean.allowedToEditEndEntity}">
						<f:selectItems value="#{resourceBean.availableEeStatus}" />
					</h:selectOneMenu>
			</h:panelGroup>
			</h:panelGrid>

		    <!-- ********** Main ******************** -->
			<h:panelGrid columns="2" styleClass="edit-top" cellspacing="3"
				cellpadding="3" border="0" width="100%" rowClasses="Row1"
				columnClasses="editColumnSystem1,editColumn2">
				<h:outputLabel 
					value="#{web.text.USERNAME}"
					style="font-weight:bold; font-size:1.2em;" />
				<h:inputText size="40" maxlength="255" value="#{resourceBean.userName}" rendered="#{resourceBean.userNameHasRegex}"
				 			title="Must match format specified in profile. / Technical detail - the regex is #{resourceBean.userNameRegex}"
							required='true'
							styleClass='mandatory'>
				
					<f:validateRegex pattern="#{resourceBean.userNameRegex}" />
				</h:inputText> 

				<h:inputText size="40" maxlength="255" value="#{resourceBean.userName}" rendered="#{!resourceBean.userNameHasRegex}"
							required='true'
							styleClass='mandatory'>
				</h:inputText> 

			<h:panelGroup rendered="#{!resourceBean.useAutoGeneratedPasswd}">
				<h:outputLabel id="eePasswordLabel" 
					value="#{web.text.PASSWORDORENROLLMENTCODE}" />
			
			</h:panelGroup>


				<h:panelGroup rendered="#{!resourceBean.useAutoGeneratedPasswd}">

					<h:inputSecret autocomplete="new-password" id="passwordInput"
						size="20" maxlength="255" value="#{resourceBean.eePassword}"
						required="#{resourceBean.passwordRequired}"
						rendered="#{resourceBean.passwordModifiable}" 
						styleClass="#{resourceBean.passwordRequired ? 'mandatory' : ''}" />
					<h:selectOneMenu id="selectPassword"
						rendered="#{!resourceBean.passwordModifiable}"
						value="#{resourceBean.selectedPassword}" 
						styleClass="#{resourceBean.passwordRequired ? 'mandatory' : ''}"
						required="#{resourceBean.passwordRequired}">
						<f:selectItems value="#{resourceBean.selectPasswordList}" />
					</h:selectOneMenu>

				</h:panelGroup>

				
				
				<h:panelGroup rendered="#{resourceBean.useAutoGeneratedPasswd}">
				
				
					<h:outputLabel id="eePasswordLabelAutoGenerated" 
						value="#{web.text.PASSWORD}" />
						
						
						<h:selectBooleanCheckbox
							id="checkBoxRegenPassword"
							value="#{resourceBean.regeneratePassword}"
							disabled="#{subjectDnFieldAndData.required}"
							required="#{resourceBean.passwordRequired}" />
						<h:outputLabel for="checkBoxRegenPassword" value="#{web.text.REGENERATENEWPASSWORD}" />
				
				</h:panelGroup>
				
				
			<h:panelGroup rendered="#{!resourceBean.useAutoGeneratedPasswd}">
				<h:outputLabel id="eePasswordConfirmLabel" 
					value="#{web.text.CONFIRMPASSWORD}" />
			
			</h:panelGroup>


			<h:panelGroup rendered="#{!resourceBean.useAutoGeneratedPasswd}">

					<h:inputSecret autocomplete="new-password" id="passwordConfirmInput"
						size="20" maxlength="255" value="#{resourceBean.eeConfirmPassword}"
						rendered="#{resourceBean.passwordModifiable}" />
					<h:selectOneMenu id="selectConfirmPassword"
						rendered="#{!resourceBean.passwordModifiable}"
						value="#{resourceBean.selectedPassword}">
						<f:selectItems value="#{resourceBean.selectPasswordList}" />
					</h:selectOneMenu>

			</h:panelGroup>
				
			<h:panelGroup>
				<h:outputLabel id="eeMaxLoginLabel" 
					value="#{web.text.MAXFAILEDLOGINATTEMPTS}" />
			
			</h:panelGroup>	
				
			<h:panelGroup>
					<h:panelGrid columns="3">
						<h:selectOneRadio id="maxLoginAttemptsSpecifiedRadio"
							value="#{resourceBean.maxLoginAttemptsStatus}"
							readonly="#{!resourceBean.allowedToEditEndEntity or !resourceBean.maxFailedLoginAttemptsModifiable}">
							<f:selectItem itemLabel="#{web.text.UNLIMITED}"
								itemValue="unlimited" />
							<f:selectItem itemLabel="#{web.text.SPECIFIED}"
								itemValue="specified" />
							<f:ajax
								render=":editendentity:maxLoginAttemptsSpecifiedText maxLoginAttemptsUnlimitedRadio" />
						</h:selectOneRadio>
						<h:inputText id="maxLoginAttemptsSpecifiedText"
							value="#{resourceBean.maxLoginAttempts}" size="5"
							title="#{web.text.FORMAT_INTEGER}"
							disabled="#{resourceBean.maxLoginAttemptsStatus eq 'unlimited'}"
							readonly="#{!resourceBean.allowedToEditEndEntity or !resourceBean.maxFailedLoginAttemptsModifiable}" />
					</h:panelGrid>
				</h:panelGroup>	
				
				
			<h:panelGroup>
				<h:outputLabel id="eeRemainingLoginAttemptsLabel" 
					value="#{web.text.REMAININGLOGINATTEMPTS}" />
			</h:panelGroup>	
			
			<h:panelGroup>
			
			
				<h:inputText id="eeRemainingLoginAttemptsText"
							value="#{resourceBean.maxLoginAttempts}" size="5" maxlength="255"
							title="#{web.text.FORMAT_INTEGER}"
							disabled="#{resourceBean.maxLoginAttemptsStatus eq 'unlimited'}"
							readonly="#{!resourceBean.allowedToEditEndEntity or !resourceBean.maxFailedLoginAttemptsModifiable}" />

				<h:selectBooleanCheckbox
							id="checkBoxResetMaxLoginAttempts"
							value="#{resourceBean.resetMaxLoginAttempts}"
							disabled="true"/>
						<h:outputLabel for="checkBoxResetMaxLoginAttempts" value="#{web.text.RESETLOGINATTEMPTS}" />
							
			</h:panelGroup>
				

			<h:panelGroup rendered="#{resourceBean.useBatchGenerationPassword}">
				<h:outputLabel id="useInBatchLabel" 
					value="#{web.text.USEINBATCH}" />
			</h:panelGroup>	
				
			<h:panelGroup rendered="#{resourceBean.useBatchGenerationPassword}">

				<h:selectBooleanCheckbox
							id="checkBoxUseBatchGenerationPassword"
							value="#{resourceBean.useClearTextPasswordStorage}"
							disabled="#{resourceBean.requiredClearTextPasswordStorage}" />
						<h:outputLabel for="checkBoxUseBatchGenerationPassword" value="#{web.text.USE}" />
							
			</h:panelGroup>				
			

			<h:panelGroup>
				<h:outputLabel id="emailLabel" 
					value="#{web.text.EMAIL}" />
			</h:panelGroup>	
				
			<h:panelGroup>
				<h:inputText id="eeEmailName"
							value="#{resourceBean.emailName}" size="15" maxlength="255"
							title="#{web.text.FORMAT_DOMAINNAME}"
							required="#{resourceBean.emailRequired}"
							styleClass="#{resourceBean.emailRequired ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}" /> @
							
				<h:inputText id="eeEmailDomain" rendered="#{resourceBean.emailModifiable}"
							value="#{resourceBean.emailDomain}" size="20" maxlength="255"
							required="#{resourceBean.emailRequired}"
							styleClass="#{resourceBean.emailRequired ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}" />


				<h:outputLabel id="emailDomainOneOption" 
					rendered="#{fn:length(resourceBean.emailOptions) == 1}"
					value="#{resourceBean.emailOptions[0].trim()}"
					style="font-weight:bold; font-size:1.2em;" />		
					
					
				<h:selectOneMenu id="emailDomainManyOptions"
						rendered="#{fn:length(resourceBean.emailOptions) > 1}"
						value="#{resourceBean.emailDomain}">
						<f:selectItems value="#{resourceBean.emailOptions}" />
				</h:selectOneMenu>						
							
			</h:panelGroup>



			</h:panelGrid>
			
			<!-- ********** Subject DN ******************** -->

			<h:panelGrid columns="2" styleClass="edit-top" cellspacing="3"
				cellpadding="3" border="0" width="100%" rowClasses="Row1"
				columnClasses="editColumnSystem1,editColumn2">
				<h:outputLabel value="#{web.text.CERT_SUBJECTDN_ATTRIBUTES}"
					style="font-weight:bold; font-size:1.2em;" />

				<h:panelGroup />
				<c:forEach items="#{resourceBean.subjectDnFieldsAndDatas}" varStatus="subjectDnField"
					var="subjectDnFieldAndData">
					<h:panelGroup>
						<h:outputLabel value="#{subjectDnFieldAndData.label}" id="labelSDN${subjectDnField.index + 1}"/>
					</h:panelGroup>
					<h:panelGroup
						rendered="#{!subjectDnFieldAndData.isEmailAndUsesEmailFieldData.left and !subjectDnFieldAndData.modifiable
										      and fn:length(subjectDnFieldAndData.options) == 1}">
						<h:outputLabel
							id="emailDomain${subjectDnField.index + 1}"
							value="#{subjectDnFieldAndData.options[0].trim()}"
							style="font-weight:bold" />
					</h:panelGroup>
					<h:panelGroup
						rendered="#{!subjectDnFieldAndData.isEmailAndUsesEmailFieldData.left
										      and !subjectDnFieldAndData.modifiable 
										      and fn:length(subjectDnFieldAndData.options) > 1 }">
						<h:selectOneMenu
							id="useEmailFieldDataCheckBox${subjectDnField.index + 1}"
							value="#{subjectDnFieldAndData.fieldValue}"
							disabled="#{!resourceBean.allowedToEditEndEntity}">
							<f:selectItems value="#{subjectDnFieldAndData.options}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup
						rendered="#{!subjectDnFieldAndData.isEmailAndUsesEmailFieldData.left and subjectDnFieldAndData.modifiable and subjectDnFieldAndData.regex ne null}">
						<h:inputText
							id="valueWithRegex${subjectDnField.index + 1}"
							value="#{subjectDnFieldAndData.fieldValue}"
							size="40" maxlength="255"
							title="Must match format specified in profile. / Technical detail - the regex is #{subjectDnFieldAndData.regex}"
							readonly="#{!resourceBean.allowedToEditEndEntity}"
							required="#{subjectDnFieldAndData.required}"
							styleClass="#{subjectDnFieldAndData.required ? 'mandatory' : ''}"
							label="#{subjectDnFieldAndData.label}">
							<f:validateRegex pattern="#{subjectDnFieldAndData.regex}" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup
						rendered="#{!subjectDnFieldAndData.isEmailAndUsesEmailFieldData.left and subjectDnFieldAndData.modifiable and subjectDnFieldAndData.regex eq null}">
						<h:inputText
							id="valueWithoutRegex${subjectDnField.index + 1}"
							value="#{subjectDnFieldAndData.fieldValue}"
							size="40" maxlength="255"
							readonly="#{!resourceBean.allowedToEditEndEntity}"
							required="#{subjectDnFieldAndData.required}"
							label="#{subjectDnFieldAndData.label}"
							styleClass="#{subjectDnFieldAndData.required ? 'mandatory' : ''}">
						</h:inputText>
					</h:panelGroup>

					<h:panelGroup
						rendered="#{subjectDnFieldAndData.isEmailAndUsesEmailFieldData.left}">
						<h:selectBooleanCheckbox
							id="sdnEmail"
							value="#{subjectDnFieldAndData.isEmailAndUsesEmailFieldData.right}"
							disabled="#{subjectDnFieldAndData.required}" />
						<h:outputLabel value="#{web.text.USESEMAILFIELDDATA}" />
					</h:panelGroup>
				</c:forEach>
			</h:panelGrid>
			
			<!-- ********** Subject Alternative Name ******************** -->

 			<h:panelGrid columns="2" styleClass="edit-top" cellspacing="3"
				cellpadding="3" border="0" width="100%" rowClasses="Row1"
				columnClasses="editColumnSystem1,editColumn2"
				rendered="#{resourceBean.profileHasSubjectAltNameFields}">
				<h:outputLabel value="#{web.text.SUBJECTALTNAMES}"
					style="font-weight:bold; font-size:1.2em;" />

				<h:panelGroup />

				<c:forEach items="#{resourceBean.subjectAltNameFieldDatas}"
					var="subjectAltNameFieldAndData" varStatus="subjecAltField">

					<h:panelGroup>
						<h:outputLabel
							id="labelSAN${subjecAltField.index + 1}"
						 	value="#{subjectAltNameFieldAndData.label}" />
					</h:panelGroup>

					<h:panelGroup
						rendered="#{subjectAltNameFieldAndData.rfc822Name and subjectAltNameFieldAndData.renderDataFromRFC822CheckBox}">
						<h:selectBooleanCheckbox id="altNameEmail" value="#{subjectAltNameFieldAndData.useDataFromRFC822NameField}"
							disabled="#{subjectAltNameFieldAndData.required}"
							 />
						<h:outputLabel value="#{web.text.USESEMAILFIELDDATA}" />
					</h:panelGroup>

					<h:panelGroup
						rendered="#{subjectAltNameFieldAndData.rfc822Name and !subjectAltNameFieldAndData.renderDataFromRFC822CheckBox
									and (subjectAltNameFieldAndData.modifiable or subjectAltNameFieldAndData.rfc822NameStringHaveAtSign)}">
						<h:inputText
							id="rfcName${subjecAltField.index + 1}"
							value="#{subjectAltNameFieldAndData.rfcName}"
							size="20" maxlength="255"
							label="#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText> @
						<h:inputText
							id="rfcDomain${subjecAltField.index + 1}"
							value="#{subjectAltNameFieldAndData.rfcDomain}"
							size="15" maxlength="255"
							title="#{web.text.FORMAT_DOMAINNAME}"
							label="#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText>
					</h:panelGroup>

					<h:panelGroup
						rendered="#{subjectAltNameFieldAndData.rfc822Name
									and !subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) == 1}">
						<h:outputLabel
							id="fieldValueLabel${subjecAltField.index + 1}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							style="font-weight:bold" />
					</h:panelGroup>

					<h:panelGroup
						rendered="#{subjectAltNameFieldAndData.rfc822Name
									and !subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) > 1}}">

						<h:selectOneMenu
							id="fieldValueSelectOne${subjecAltField.index + 1}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							disabled="#{!resourceBean.allowedToEditEndEntity}">
							<f:selectItems
								value="#{subjectAltNameFieldAndData.options}" />
						</h:selectOneMenu>
					</h:panelGroup>

					<h:panelGroup rendered="#{!subjectAltNameFieldAndData.rfc822Name
											   and !subjectAltNameFieldAndData.modifiable 
											   and !subjectAltNameFieldAndData.upn
											   and !subjectAltNameFieldAndData.copyDataFromCN}">
						<h:outputLabel
							id="altNameField${subjecAltField.index + 1}"
							rendered="#{(!subjectAltNameFieldAndData.rfc822Name and !subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) == 1)}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							style="font-weight:bold" />

						<h:selectOneMenu
							id="subjectAltField${subjecAltField.index + 1}"
							rendered="#{!subjectAltNameFieldAndData.rfc822Name and !subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) > 1}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							disabled="#{!resourceBean.allowedToEditEndEntity}">
							<f:selectItems value="#{subjectAltNameFieldAndData.options}" />
						</h:selectOneMenu>
					</h:panelGroup>

					<h:panelGroup rendered="#{!subjectAltNameFieldAndData.modifiable
											  and subjectAltNameFieldAndData.upn}">
						<h:inputText
							id="subjectAltNameUpnName${subjecAltField.index + 1}"
							size="20" maxlength="355"
							value="#{subjectAltNameFieldAndData.upnName}"
							label = "#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText> @

						<h:outputLabel
							id="subjectAltNameUpnDomainOneOption${subjecAltField.index + 1}"
							rendered="#{!subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) == 1}"
							value="#{subjectAltNameFieldAndData.upnDomain}"
							style="font-weight:bold" />

						<h:selectOneMenu
							id="subjectAltNameUpnDomainMultiOption${subjecAltField.index + 1}"
							rendered="#{!subjectAltNameFieldAndData.modifiable and fn:length(subjectAltNameFieldAndData.options) > 1}"
							value="#{subjectAltNameFieldAndData.upnDomain}"
							disabled="#{!resourceBean.allowedToEditEndEntity}">
							<f:selectItems value="#{subjectAltNameFieldAndData.options}" />
						</h:selectOneMenu>
					</h:panelGroup>


					<h:panelGroup rendered="#{subjectAltNameFieldAndData.modifiable
											   and subjectAltNameFieldAndData.upn}">
						<h:inputText
							id="subjectAltNameUpnNameModifiableNoOptions${subjecAltField.index + 1}"
							size="20" maxlength="355"
							value="#{subjectAltNameFieldAndData.upnName}"
							label = "#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText> @

						<h:inputText
							id="subjectAltNameUpnDomainModifiableNoOptions${subjecAltField.index + 1}"
							size="15" maxlength="355"
							value="#{subjectAltNameFieldAndData.upnDomain}"
							label = "#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText>
					</h:panelGroup>

					<h:panelGroup
						rendered="#{!subjectAltNameFieldAndData.rfc822Name and
						 			!subjectAltNameFieldAndData.upn and
									 subjectAltNameFieldAndData.copyDataFromCN}">
						<h:selectBooleanCheckbox
							id="altNameDns"
							value="true" disabled="true"/>
						<h:outputLabel value="#{web.text.USESCNFIELDDATA}" />
					</h:panelGroup>

					<h:panelGroup
						rendered="#{!subjectAltNameFieldAndData.rfc822Name and
									 subjectAltNameFieldAndData.modifiable and 
									 !subjectAltNameFieldAndData.upn and
									 !subjectAltNameFieldAndData.copyDataFromCN}">
						<h:inputText
							id="subjectAltNameInputTextWithoutRegex${subjecAltField.index + 1}"
							size="40" maxlength="355" rendered="#{!subjectAltNameFieldAndData.renderRegex}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							label = "#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						</h:inputText>
						<h:inputText
							id="subjectAltNameInputTextWithRegex${subjecAltField.index + 1}"
							size="40" maxlength="355" rendered="#{subjectAltNameFieldAndData.renderRegex}"
							value="#{subjectAltNameFieldAndData.fieldValue}"
							title="Must match format specified in profile. / Technical detail - the regex is #{subjectAltNameFieldAndData.regex}"
							label = "#{subjectAltNameFieldAndData.label}"
							required="#{subjectAltNameFieldAndData.required}"
							styleClass="#{subjectAltNameFieldAndData.required ? 'mandatory' : ''}"
							readonly="#{!resourceBean.allowedToEditEndEntity}">
						<f:validateRegex pattern="#{subjectAltNameFieldAndData.regex}"/>
						</h:inputText>
					</h:panelGroup>

				</c:forEach>

			</h:panelGrid>


			<!-- ********** Subject Directory Attributes ******************** -->

			<h:panelGrid columns="2" styleClass="edit-top" cellspacing="3"
				cellpadding="3" border="0" width="100%" rowClasses="Row1"
				columnClasses="editColumnSystem1,editColumn2"
				rendered="#{resourceBean.profileHasSubjectDirAttrFields}">
				<h:outputLabel value="#{web.text.SUBJECTDIRATTRIBUTES}"
					style="font-weight:bold; font-size:1.2em;" />

				<h:panelGroup />

				<c:forEach items="#{resourceBean.subjectDirAttrFieldDatas}"
					var="subjectDirAttrFieldNameAndData" varStatus="subjectDirAttr" >

					<h:panelGroup>
						<h:outputLabel id="labelSDA${subjectDirAttr.index + 1}" value="#{subjectDirAttrFieldNameAndData.label}" />
					</h:panelGroup>

					<h:outputLabel
						id="oneOptionSDA${subjectDirAttr.index + 1}"
						rendered="#{!subjectDirAttrFieldNameAndData.modifiable and fn:length(subjectDirAttrFieldNameAndData.options) == 1}"
						value="#{subjectDirAttrFieldNameAndData.fieldValue}"
						style="font-weight:bold" />

					<h:selectOneMenu
						id="multiOptionsSDA${subjectDirAttr.index + 1}"
						rendered="#{!subjectDirAttrFieldNameAndData.modifiable and fn:length(subjectDirAttrFieldNameAndData.options) > 1}"
						value="#{subjectDirAttrFieldNameAndData.fieldValue}"
						disabled="#{!resourceBean.allowedToEditEndEntity}">
						<f:selectItems value="#{subjectDirAttrFieldNameAndData.options}" />
					</h:selectOneMenu>

					<h:panelGroup
						rendered="#{subjectDirAttrFieldNameAndData.modifiable}">
						<h:inputText size="20" maxlength="255"
							id="inputTextSDA${subjectDirAttr.index + 1}"
							value="#{subjectDirAttrFieldNameAndData.fieldValue}"
							readonly="#{!resourceBean.allowedToEditEndEntity}"
							required="#{subjectDirAttrFieldNameAndData.required}"
							label="#{subjectDirAttrFieldNameAndData.label}"
							styleClass="#{subjectDirAttrFieldNameAndData.required ? 'mandatory' : ''}">
						</h:inputText>
					</h:panelGroup>

				</c:forEach>

			</h:panelGrid>

		
		
		</h:form>
	</ui:define>
</ui:composition>
</html>		